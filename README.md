# ì¼ì£¼ì¼ë‚´ Rustë¡œ ë¸”ë¡ì²´ì¸ êµ¬í˜„ ë„ì „ê¸°

<!--ë°°ì§€-->
![Repository Size][repository-size-shield]

<!--í”„ë¡œì íŠ¸ ëŒ€ë¬¸ ì´ë¯¸ì§€-->
![Project Title](readme_images/rust_logo.png?size=300)



# [1] About the Project

- **ëª°ì…ìº í”„ 4ì£¼ì°¨ í”„ë¡œì íŠ¸**
- ì¼ì£¼ì¼ì•ˆì— ì²˜ìŒ ì‚¬ìš©í•´ë³´ëŠ” ì–¸ì–´ë¡œ ë¸”ë¡ì²´ì¸ì´ë¼ëŠ” ì›ë¦¬ë¥¼ ì‰½ê³  ì¬ë¯¸ìˆê²Œ ë°°ìš°ëŠ” í•™ìŠµ exeì‹¤í–‰íŒŒì¼ì„ ë§Œë“¤ì–´ ë°°í¬í•´ë³´ê¸°.

## Features
- ê¸°ì¡´ì˜ ë¸”ë¡ì²´ì¸ì€ hashê¸°ëŠ¥ê³¼, ì •ë‹µì˜ ë²”ìœ„ë¥¼ ì¡°ì ˆí•˜ì—¬ ë¬¸ì œ ë° ë¸”ë¡ì˜ êµ¬ì„±ì„ ë§Œë“¤ì–´ëƒˆë‹¤ë©´, ìš°ë¦¬ì˜ í•™ìŠµ í”Œë«í¼ì—ì„œëŠ” ë§ˆë°©ì§„ì´ë¼ëŠ” ê²Œì„ì„ ì´ìš©í•˜ì—¬ ì´ˆë³´ìì—ê²Œë„ ê°œë…ì„ ì¹œìˆ™í•˜ê²Œ ë‹¤ê°€ê°€ì„œ ì ìš© ê°€ëŠ¥í•˜ë‹¤.

## BlockChain - Server Flow
1. ì„œë²„ê°€ ë¬¸ì œë¥¼ ë¸Œë¡œë“œìºìŠ¤íŠ¸
    * ì„œë²„ëŠ” ìƒˆë¡œìš´ ë¬¸ì œë¥¼ ìƒì„±í•˜ê³  ì´ë¥¼ ëª¨ë“  ë…¸ë“œì— ë¸Œë¡œë“œìºìŠ¤íŠ¸í•œë‹¤.
2. ë…¸ë“œê°€ ë¬¸ì œ í’€ì´ í›„ ë¸”ë¡ì„ ìƒì„±í•˜ì—¬ ì„œë²„ë¡œ ì œì¶œ
    * ê° ë…¸ë“œëŠ” ì„œë²„ë¡œë¶€í„° ë°›ì€ ë¬¸ì œë¥¼ í’€ê³ , í’€ì´ ê²°ê³¼ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë¸”ë¡ì„ ìƒì„±í•˜ì—¬ ì„œë²„ì— ì œì¶œí•œë‹¤.
3. ì„œë²„ëŠ” ë¸”ë¡ì„ ë‹¤ë¥¸ ë…¸ë“œì— ì „ë‹¬í•˜ì—¬ ê²€ì¦ ìš”ì²­
    * ì„œë²„ëŠ” ì œì¶œëœ ë¸”ë¡ì„ ë‹¤ë¥¸ ëª¨ë“  ë…¸ë“œë¡œ ë¸Œë¡œë“œìºìŠ¤íŠ¸í•˜ì—¬ ê²€ì¦ ìš”ì²­ì„ ë³´ë‚¸ë‹¤.
4. ë…¸ë“œëŠ” ë¸”ë¡ ê²€ì¦ í›„ ì„œë²„ë¡œ ê²°ê³¼ ë°˜í™˜
    * ê° ë…¸ë“œëŠ” ë¸”ë¡ì„ ê²€ì¦í•œ ê²°ê³¼ë¥¼ ì„œë²„ë¡œ ë°˜í™˜í•œë‹¤.
    * ê²€ì¦ ê²°ê³¼ëŠ” ë¸”ë¡ì˜ ìœ íš¨ì„± ì—¬ë¶€ë¥¼ í¬í•¨
5. ì„œë²„ëŠ” ê²°ê³¼ë¥¼ ìˆ˜ì§‘í•˜ê³  ë¸”ë¡ ìŠ¹ì¸ ì—¬ë¶€ë¥¼ ê²°ì •
    * ì„œë²„ëŠ” ë…¸ë“œë“¤ë¡œë¶€í„° ë°˜í™˜ëœ ê²€ì¦ ê²°ê³¼ë¥¼ ìˆ˜ì§‘í•œë‹¤.
    * **í˜„ì¬ëŠ” ë¬´ì¡°ê±´ ìŠ¹ì¸ìœ¼ë¡œ ë˜ì–´ìˆë‹¤.**
6. ì„œë²„ê°€ ìŠ¹ì¸ëœ ë¸”ë¡ì„ ì „ì²´ ë…¸ë“œì— ë¸Œë¡œë“œìºìŠ¤íŠ¸
    * ìŠ¹ì¸ëœ ë¸”ë¡ì€ ì„œë²„ì—ì„œ ëª¨ë“  ë…¸ë“œë¡œ ë¸Œë¡œë“œìºìŠ¤íŠ¸ëœë‹¤.
    * ì´ë¥¼ í†µí•´ ëª¨ë“  ë…¸ë“œê°€ ë™ì¼í•œ ìŠ¹ì¸ëœ ë¸”ë¡ì„ ê³µìœ í•œë‹¤.

## Technologies

- [Rust](https://www.rust-lang.org/) 1.84.0
- [iced](https://iced.rs/) 0.12.1 (Rust GUI library)
- [rocksdb](https://rocksdb.org/) 0.19



# [2] Getting Started


## Prerequisites
Rustê°€ ì„¤ì¹˜ë˜ì–´ ìˆì§€ ì•Šë‹¤ë©´ ì•„ë˜ ëª…ë ¹ì–´ë¡œ ì„¤ì¹˜í•˜ì„¸ìš”.

```sh
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
```

## Installation

1. Repository í´ë¡ 
```bash
git clone https://https://github.com/Ea3124/MapCamp4thWeek
cd blockchain-learning-platform
```

2. Server ì‹¤í–‰
```bash
cd server
cargo run
```

3. Client ì‹¤í–‰
```bash
cd client
cargo run
```

## Configuration

- nothing for configuration


# [3] Usage with flow


![usage](readme_images/4_1.gif)

### 1ï¸âƒ£ ë¬¸ì œ ìƒì„± ë° ë¸Œë¡œë“œìºìŠ¤íŠ¸

- ì„œë²„ëŠ” ìƒˆë¡œìš´ ë¬¸ì œ(4x4 ë§ˆë°©ì§„)ë¥¼ ìƒì„±í•˜ê³  ë„¤íŠ¸ì›Œí¬ì— ë¸Œë¡œë“œìºìŠ¤íŠ¸í•œë‹¤.
- `broadcast_problem()` í•¨ìˆ˜ (`my_broadcast.rs`):
  - `generate_incomplete_magic_square(4)`ë¥¼ í˜¸ì¶œí•˜ì—¬ ì¼ë¶€ ê°’ì´ ë¹„ì›Œì§„ ë§ˆë°©ì§„ ë¬¸ì œë¥¼ ìƒì„±
  - `Problem` ê°ì²´ë¥¼ `problem_tx` ì±„ë„ì„ í†µí•´ ëª¨ë“  í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì „ì†¡

---

### 2ï¸âƒ£ í´ë¼ì´ì–¸íŠ¸ì˜ ë¸”ë¡ ì œì¶œ

- í´ë¼ì´ì–¸íŠ¸ëŠ” ë¬¸ì œë¥¼ í•´ê²°í•œ í›„ `POST /submit_block` ì—”ë“œí¬ì¸íŠ¸ë¥¼ í†µí•´ ë¸”ë¡ì„ ì œì¶œí•œë‹¤.
- `handle_block_submission()` í•¨ìˆ˜ (`my_broadcast.rs`):
  - `current_block`ì´ `None`ì¼ ê²½ìš°ì—ë§Œ ë¸”ë¡ì„ ë°›ì•„ë“¤ì„
  - ë¸”ë¡ì´ ì¡´ì¬í•˜ë©´ `"Block already submitted"` ì‘ë‹µì„ ë°˜í™˜
  - ìƒˆë¡œìš´ ë¸”ë¡ì´ ì œì¶œë˜ë©´ ë„¤íŠ¸ì›Œí¬ì— ë¸Œë¡œë“œìºìŠ¤íŠ¸

---

### 3ï¸âƒ£ ê²€ì¦ ê²°ê³¼ ì œì¶œ

- ë¸”ë¡ì´ ì œì¶œë˜ë©´ ë„¤íŠ¸ì›Œí¬ ë‚´ì˜ ë…¸ë“œë“¤ì´ ê²€ì¦ì„ ìˆ˜í–‰í•œë‹¤.
- í´ë¼ì´ì–¸íŠ¸ëŠ” `POST /submit_validation` ì—”ë“œí¬ì¸íŠ¸ë¥¼ í˜¸ì¶œí•˜ì—¬ ê²€ì¦ ê²°ê³¼ë¥¼ ì œì¶œí•œë‹¤.
- `handle_validation_results()` í•¨ìˆ˜ (`main.rs`):
  - ê²€ì¦ ê²°ê³¼ë¥¼ `process_consensus()` í•¨ìˆ˜ì— ë„˜ê²¨ í•©ì˜ë¥¼ ìˆ˜í–‰
  - **ê³¼ë°˜ìˆ˜(majority) í•©ì˜ ë°©ì‹**ì„ ì‚¬ìš©í•˜ì—¬ ë¸”ë¡ì´ ìœ íš¨í•œì§€ íŒë‹¨

---

![usage](readme_images/4_2.gif)

### 4ï¸âƒ£ í•©ì˜ ë° ìƒˆë¡œìš´ ë¬¸ì œ ìƒì„±

- `process_consensus()` í•¨ìˆ˜ (`my_broadcast.rs`)ì—ì„œ í•©ì˜ë¥¼ ìˆ˜í–‰í•œë‹¤.
- í˜„ì¬ëŠ” ìµœì†Œ **1ê°œ ì´ìƒì˜ ê²€ì¦ì´ ì„±ê³µí•˜ë©´** í•©ì˜ê°€ ì™„ë£Œëœ ê²ƒìœ¼ë¡œ ê°„ì£¼ëœë‹¤.
- í•©ì˜ê°€ ì™„ë£Œë˜ë©´ ìƒˆë¡œìš´ ë¬¸ì œë¥¼ ìƒì„±í•˜ê³  ì´ë¥¼ ë¸Œë¡œë“œìºìŠ¤íŠ¸í•œë‹¤.

---

## ğŸ“Œ ë¼ìš°íŠ¸ ì •ë¦¬

| HTTP ë©”ì†Œë“œ | ê²½ë¡œ | ì„¤ëª… |
|------------|------|------|
| `GET` | `/broadcast_problem` | ìƒˆë¡œìš´ ë¬¸ì œë¥¼ ìƒì„±í•˜ê³  ë¸Œë¡œë“œìºìŠ¤íŠ¸ |
| `POST` | `/submit_block` | ë¸”ë¡ì„ ì œì¶œ |
| `POST` | `/submit_validation` | ê²€ì¦ ê²°ê³¼ë¥¼ ì œì¶œ |
| `GET` | `/ws` | WebSocket ì—°ê²°ì„ í†µí•´ ì‹¤ì‹œê°„ ë¬¸ì œ ë° ë¸”ë¡ ìˆ˜ì‹  |

ëª¨ë“  ì—”ë“œí¬ì¸íŠ¸ëŠ” `routes.rs`ì—ì„œ ì •ì˜ëœë‹¤.


---

## ğŸ“Œ WebSocket ì‹¤ì‹œê°„ ë¸Œë¡œë“œìºìŠ¤íŠ¸

- `handle_websocket()` (`my_broadcast.rs`) í•¨ìˆ˜ëŠ” ë¬¸ì œì™€ ë¸”ë¡ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ì „ë‹¬í•˜ëŠ” WebSocket ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.
- `problem_tx`, `block_tx`ë¥¼ í†µí•´ ìˆ˜ì‹ ëœ ë°ì´í„°ë¥¼ WebSocketì„ í†µí•´ ì „ì†¡í•œë‹¤.

---

## ğŸ“Œ ì„œë²„ ì´ˆê¸°í™” ë° ì‹¤í–‰

- `main.rs`ì—ì„œ ì„œë²„ë¥¼ ì‹¤í–‰í•˜ë©°, `axum`ì„ ì‚¬ìš©í•˜ì—¬ HTTP ë° WebSocket ì—”ë“œí¬ì¸íŠ¸ë¥¼ êµ¬ì„±í•œë‹¤.

# [4] Team Introduce

|Server & Network|Client & GUI|
|:---:|:---:|
| ![](https://github.com/Ea3124.png?size=120) | ![](https://github.com/simmath2004.png?size=120) |
|[ì´ìŠ¹ì¬](https://github.com/Ea3124)|[ì‹¬í¬ìŠ¹](https://github.com/simmath2004)|
|leesj6717@gmail.com| - |
 
<!--Url for Badges-->
[license-shield]: https://img.shields.io/github/license/dev-ujin/readme-template?labelColor=D8D8D8&color=04B4AE
[repository-size-shield]: https://img.shields.io/github/repo-size/dev-ujin/readme-template?labelColor=D8D8D8&color=BE81F7
[issue-closed-shield]: https://img.shields.io/github/issues-closed/dev-ujin/readme-template?labelColor=D8D8D8&color=FE9A2E

<!--Url for Buttons-->
[readme-eng-shield]: https://img.shields.io/badge/-readme%20in%20english-2E2E2E?style=for-the-badge
[view-demo-shield]: https://img.shields.io/badge/-%F0%9F%98%8E%20view%20demo-F3F781?style=for-the-badge
[view-demo-url]: https://dev-ujin.github.io
[report-bug-shield]: https://img.shields.io/badge/-%F0%9F%90%9E%20report%20bug-F5A9A9?style=for-the-badge
[report-bug-url]: https://github.com/dev-ujin/readme-template/issues
[request-feature-shield]: https://img.shields.io/badge/-%E2%9C%A8%20request%20feature-A9D0F5?style=for-the-badge
[request-feature-url]: https://github.com/dev-ujin/readme-template/issues

<!--URLS-->
[license-url]: LICENSE.md
[contribution-url]: CONTRIBUTION.md
[readme-eng-url]: ../README.md


